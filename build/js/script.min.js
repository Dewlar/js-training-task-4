let incomingData=[{title:"Automobile",nodes:[{title:"Supercar",nodes:[{title:"McLaren 720S"},{title:"Ferrari SF90"},{title:"Lamborghini Aventador"}]},{title:"Mercedes"},{title:"Audi"},{title:"BMW"},{title:"lada-sedan-baclajan"}]},{title:"Motocycle",nodes:[{title:"Honda",nodes:[{title:"Sport",nodes:[{title:"CBR 1000 RR"},{title:"CBR650R"}]}]},{title:"Suzuki",nodes:[{title:"B-King"},{title:"GSX-R1000"},{title:"SV650"}]},{title:"KTM"},{title:"BMW"},{title:"Aprilla"}]}];function createUL(e){if(Array.isArray(e)){let t=document.createElement("ul");for(let l=0;l<e.length;l++){let i=document.createElement("li");for(let t in e[l]){let n=e[l][t];Array.isArray(n)?i.append(createUL(n)):i.innerHTML=n}t.append(i)}return t}}document.querySelector(".tree").append(createUL(incomingData));for(let e of document.querySelectorAll("li")){let t=document.createElement("span");e.prepend(t),t.append(t.nextSibling)}let isTitleNeeded=document.querySelectorAll("li");for(let e=0;e<isTitleNeeded.length;e++)isTitleNeeded[e].childNodes.length>1&&isTitleNeeded[e].firstChild.classList.add("title");document.querySelector(".tree").addEventListener("click",(e=>{if(e.target.matches(".title")){let t=e.target.nextSibling;console.log(t),t.classList.toggle("hide")}}));